function m({adapter:i,languages:c,addRuntime:r=!1}){return{extensions:[{name:"codeMovie",level:"block",start:e=>e.match(/`{4}code-movie\|[a-z-]+/)?.index,tokenizer(e){let o=/^`{4}code-movie\|(?<lang>[a-z-]+)(?<content>.*)`{4}/s.exec(e);if(!o)return;let{content:t,lang:s}=o.groups,a=this.lexer.blockTokens(t.trim(),[]),l=!(s in c);return{type:"codeMovie",raw:o[0],lang:s,invalid:l,tokens:a}},renderer(e){if(e.invalid)return e.tokens.forEach(t=>t.lang=e.lang),this.parser.parse(e.tokens);let n=e.tokens.flatMap(t=>t.type==="code"?[{code:t.text}]:[]),o=i(n,c[e.lang]);if(r){let t=typeof r=="object"&&r.controls?' controls="controls"':"";return`<code-movie-runtime keyframes="${Object.keys(n).join(" ")}"${t}>${o}</code-movie-runtime>`}return o}}]}}export{m as markedCodeMoviePlugin};
